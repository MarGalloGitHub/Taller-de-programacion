programa ejercicioDOS
procesos
  proceso juntar(ES flores:numero ; ES papeles: numero)
  comenzar
    mientras(HayFlorEnLaEsquina)
      tomarFlor
      flores:= flores + 1
    mientras(HayPapelEnLaEsquina) 
      tomarPapel
      papeles:= papeles + 1
  fin
  proceso hacerEscalon(ES flores:numero ; ES papeles:numero)
  variables
    valor:numero
  comenzar
    Random(valor,1,5)
    repetir valor
      juntar(flores,papeles)
      mover
    juntar(flores,papeles)
    derecha
    mover
    repetir 3
      derecha
  fin
areas
  area1: AreaC(1,1,100,100)
robots
  robot tipo0
  variables
    escalones: numero
    cantEscalones:numero
  comenzar
    escalones:=0
    repetir 3
      RecibirMensaje(cantEscalones,*)
      escalones:= escalones + cantEscalones
    Informar(escalones)
  fin
  robot tipo1
  variables
    cantEscalones:numero
    flores:numero
    papeles:numero
  comenzar
    cantEscalones:= 0
    repetir 4
      flores:=0
      papeles:=0
      hacerEscalon(flores,papeles)
      si(flores > papeles)
        cantEscalones:= cantEscalones + 1
    EnviarMensaje(cantEscalones,jefe)
  fin
  robot jefe
  variables
    escalones:numero
    cantEscalones:numero
  comenzar
    escalones:= 0
    repetir 3
      RecibirMensaje(cantEscalones,*)
      escalones:= escalones + cantEscalones
    Informar('cantEscalones',escalones)
  fin
variables
  jefe:tipo0
  robot1:tipo1
  robot2:tipo1
  robot3:tipo1
comenzar
  AsignarArea(jefe,area1)
  AsignarArea(robot1,area1)
  AsignarArea(robot2,area1)
  AsignarArea(robot3,area1)
  Iniciar(jefe,1,1)
  Iniciar(robot1,2,1)
  Iniciar(robot2,7,1)
  Iniciar(robot3,12,1)
fin
